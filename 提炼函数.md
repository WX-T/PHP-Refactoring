
# 提炼函数1
原代码
------
```php
  $post_name = $_POST['name'];
  if(isset($post_name) && !empty($post_name)){
    ......
  }
  
  $post_age = $_POST['age'];
  if(isset($post_name) && !empty($post_name)){
    ......
  }
```
重构后
------
```php
  
  $post_name = $_POST['name'];
  if(isSetOrEmpty($post_name)){
    ......
  }
  $post_age = $_POST['age'];
  if(isSetOrEmpty($post_age)){
    ......
  }
   

  function isSetOrEmpty($value){
    if(isset($value) && !empty($value)){
      return true;
    }else{
      return false;
    }
  }
```
#提炼函数2 清除不必要的注释
原代码
------
```php
  function printOwing(){
    //print banner
    echo '**************************<br/>';
    echo 'Banner<br>';
    echo '**************************<br/>';
    //print details
    echo 'name:Lili';
    echo 'amount:'.getOutstanding();
  }
```
重构后
------
```php
function printOwing(){
  printBanner();
  printDetails(getOutstanding());
}

function printBanner(){
  echo '**************************<br/>';
  echo 'Banner<br>';
  echo '**************************<br/>';
}

function printDetails($outstanding){
  echo 'name:Lili';
  echo 'amount:'.$outstanding;
}
```
#将函数内联化
    如果一个函数的逻辑太简单，则把其中的代码移到调用它的代码，取消这个函数
原代码
------
```php
  function getRating(){
    return moreThanFiveLateDeliveres() ? 2 : 1;
  }
  function moreThanFiveLateDeliveres(){
    return $number > 5;
  }
```
重构后
------
```php
  function getRating(){
    return ($number > 5) ? 2 : 1;
  }
```
#将临时变量内联化
原代码
------
```php
  $price = $order['price'];
  return $price > 1000; 
```
重构后
------
```php
  return $order['price'] > 1000;
```
